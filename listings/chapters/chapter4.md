# Making music on the BBC micro

## Chapter 4

### Hold

```
10 REM PROGRAM 4.1
20 REM HOLD PARAMETER DEMONSTRATION 
30
40 ENVELOPE1,4,0,0,0,0,0,0,126,-1,0,-1,126,60
50 TIME=0
60
70 SOUND1,1,53,40 
80 PROCTime
90 SOUND1,1,69,20
100 PROCTime
110 END
120
130 DEF PROCTime 
140 REPEAT
150 IF TIME/100=INT(TIME/100) PRINT TIME/100
160 UNTIL TIME>800 
170 STOP
180 ENDPROC
```

```
10 REM PROGRAM 4.1a - extra hold, one less call to PROCTime
20 REM HOLD PARAMETER DEMONSTRATION 
30
40 ENVELOPE1,4,0,0,0,0,0,0,126,-1,0,-1,126,60
50 TIME=0
60
70 SOUND1,1,53,40 
80 REM No time, no pause/hold
90 SOUND1,1,69,20
100 PROCTime
110 END
120
130 DEF PROCTime 
140 REPEAT
150 IF TIME/100=INT(TIME/100) PRINT TIME/100
160 UNTIL TIME>800 
170 STOP
180 ENDPROC
```

```
10 REM PROGRAM 4.1a - extra sound, one less call to PROCTime
20 REM HOLD PARAMETER DEMONSTRATION 
30
40 ENVELOPE1,4,0,0,0,0,0,0,126,-1,0,-1,126,60
50 TIME=0
60
70 SOUND1,1,53,40 
80 SOUND&1001,0,0,40
90 SOUND1,1,69,20
100 PROCTime
110 END
120
130 DEF PROCTime 
140 REPEAT
150 IF TIME/100=INT(TIME/100) PRINT TIME/100
160 UNTIL TIME>800 
170 STOP
180 ENDPROC
```

### Sychronisation
```
10 SOUND1,-15,73,30
20 SOUND2,-15,89,30
30 SOUND3,-15,101,30
```

```
10 SOUND&201,-15,73,30
20 SOUND&202,-15,89,30
30 SOUND&203,-15,101,30
```

```
10 SOUND1,-15,73,30
15 FOR Delay=1 TO 400:NEXT Delay
20 SOUND2,-15,89,30
30 SOUND3,-15,101,30
```

```
10 SOUND&201,-15,73,30
15 FOR Delay=1 TO 400:NEXT Delay
20 SOUND&202,-15,89,30
30 SOUND&203,-15,101,30
```
### Flush

```
10 REM PROGRAM 4.2
20 REM CHANNEL FLUSHING DEMONSTRATION
30 SOUND3,-10,5,245
40 SOUND1,-15,53,60:SOUND2,-12,5,60
50 SOUND1,-15,81,60:SOUND2,-12,53,60
60 SOUND1,-15,101,60:SOUND2,-12,53,60
70 SOUND1,-15,117,5:SOUND2,-12,69,5
80 SOUND1,-15,113,60:SOUND2,-12,65,60
90 PRINT"PRESS ANY KEY TO STOP"
100 IF INKEY(400)<>-1 THEN SOUND&11,0,0,0:SOUND&12,0,0,0:SOUND&13,0,0,0 ELSE PRINT"TOO LATE"
110 SOUND1,-15,149,2:SOUND1,-15,137,2
120 SOUND1,-15,129,2:SOUND1,-15,137,2
130 SOUND1,-15,145,2:SOUND1,-15,137,2
140 SOUND1,-15,145,2:SOUND1,-15,149,4
```

### Amplitude

n/a

### Pitch
```
5 REM Noise pitch 3
10 SOUND 0,-15,3,200
20 FOR Pitch=0 TO 200
30 SOUND1,0,Pitch,1
40 NEXT Pitch
```

```
5 REM Noise pitch 7
10 SOUND 0,-15,7,200
20 FOR Pitch=0 TO 200
30 SOUND1,0,Pitch,1
40 NEXT Pitch
```
### Duration
```
10 SOUND1,-15,53,20
20 SOUND1,-15,54,20
```

```
5 REM with 2/100 s gap between notes
10 SOUND1,-15,53,20
15 SOUND1,0,0,0
20 SOUND1,-15,54,20
```

```
10 TIME=0
20 FOR X%=0 TO 500
30 NEXT
40 PRINT TIME/100
```

```
5 REM with 2/100 s gap between notes
10 TIME=0
20 FOR X%=0 TO 500
25 SOUND1,0,0,0
30 NEXT
40 PRINT TIME/100
```

